{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lucas\\\\Desktop\\\\Ultimo Semestre\\\\Conectando\\\\Sprint-3\\\\conectando\\\\src\\\\pages\\\\CadastrarVagas\\\\index.tsx\";\nimport React, { useEffect } from 'react';\nimport { FiArrowLeft, FiAlertCircle } from 'react-icons/fi';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport Select from 'react-select';\nimport Input from '../../components/inputs/index';\nimport './style.css';\nimport Axios from 'axios';\n\nfunction CadastrarVagas() {\n  const api = Axios.create({\n    baseURL: \"http://localhost:5000/api\",\n    headers: {\n      'content-type': 'application/json',\n      authorization: 'Bearer ' + localStorage.getItem(\"token-conectando\")\n    }\n  });\n  useEffect(() => {\n    BuscarTags();\n  }, []);\n  var optionsBanco = []; //Formata um array para ser usado pelo react-select\n\n  const Montar = e => {\n    e.forEach(element => {\n      optionsBanco.push({\n        value: element.idTags,\n        label: element.nome\n      });\n    });\n  }; //Cadastrar TagVaga\n\n\n  const CadastrarTagVaga = idVaga => {\n    let tagsPorName = document.getElementsByName('tags');\n\n    for (let index = 0; index < tagsPorName.length; index++) {\n      const tagsVaga = {\n        idVaga: idVaga,\n        idTags: tagsPorName[index].attributes[2].value\n      };\n      api.post(\"/TagsVaga\", JSON.stringify(tagsVaga));\n    }\n  }; //Busca todas as tags\n\n\n  const BuscarTags = () => {\n    api.get(\"/Tags\").then(dados => {\n      Montar(dados.data);\n    }).catch(erro => console.error(erro));\n  }; //Cadastra as Vagas\n\n\n  const CadastrarVagas = values => {\n    api.post(\"/Vaga\", JSON.stringify(values, null, 2)).then(dados => {\n      CadastrarTagVaga(dados.data);\n    }).catch(erro => console.error(erro));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cadastroVagas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"headerCadastro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FiArrowLeft, {\n    className: \"iconVoltar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"textHeaderCadastro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, \"Cadaste sua Vaga!\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, \"O primeiro passo \\xE9 preencher esse formul\\xE1rio de cadastro.\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"formularioCadastro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"Seus dados\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"divisao\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      nome: '',\n      area: '',\n      requisitos: '',\n      detalhes: '',\n      beneficios: '',\n      salario: '',\n      tipoContrato: '',\n      nivelExp: '',\n      prazo: '',\n      limiteAlunos: '',\n      remoto: '',\n      horario: '',\n      idEmpresa: ''\n    },\n    validationSchema: Yup.object({\n      nome: Yup.string().required('Required'),\n      area: Yup.string().required('Required'),\n      requisitos: Yup.string().required('Required').max(255, 'Deve ter no máximo 255 caractéres'),\n      detalhes: Yup.string().required('Required').max(255, 'Deve ter no máximo 255 caractéres'),\n      beneficios: Yup.string().required('Required'),\n      salario: Yup.number().required('Required'),\n      tipoContrato: Yup.string().required('Required'),\n      nivelExp: Yup.string().required('Required'),\n      prazo: Yup.date().required('Required'),\n      limiteAlunos: Yup.number().notRequired(),\n      remoto: Yup.string().required('Required'),\n      horario: Yup.string().required('Required'),\n      idEmpresa: Yup.number()\n    }),\n    onSubmit: (values, {\n      setSubmitting\n    }) => {\n      const token = localStorage.getItem('token-conectando');\n\n      if (token !== null) {\n        values.idEmpresa = JSON.parse(window.atob(token.split('.')[1])).jti;\n      }\n\n      const id = CadastrarVagas(values);\n      setTimeout(() => {\n        setSubmitting(false);\n      }, 400);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"nome\",\n    label: \"Nome da Vaga\",\n    className: \"input1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"area\",\n    label: \"\\xC1rea da Vaga\",\n    className: \"input1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    label: \"Requisitos\",\n    as: \"textarea\",\n    name: \"requisitos\",\n    id: \"requisitos\",\n    className: \"input1 caixa-detalhada\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    label: \"Detalhes Vaga\",\n    as: \"textarea\",\n    name: \"detalhes\",\n    id: \"detalhes\",\n    className: \"input1 caixa-detalhada\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"beneficios\",\n    label: \"Beneficios\",\n    className: \"input1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"number\",\n    min: \"0\",\n    name: \"salario\",\n    label: \"Sal\\xE1rio\",\n    className: \"input1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-divs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"tipoContrato\",\n    label: \"Tipo de Contrato\",\n    className: \"input1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"nivelExp\",\n    label: \"N\\xEDvel da Vaga\",\n    className: \"input1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-divs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"prazo\",\n    type: \"date\",\n    label: \"Prazo inscri\\xE7\\xF5es\",\n    className: \"input1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"number\",\n    min: \"0\",\n    name: \"limiteAlunos\",\n    label: \"Limite inscri\\xE7\\xF5es\",\n    className: \"input1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-divs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"style-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"remoto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 33\n    }\n  }, \"Trabalhar remoto?\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 82\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    as: \"select\",\n    name: \"remoto\",\n    id: \"remoto\",\n    className: \"input1 input1-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 37\n    }\n  }, \"Selecione uma op\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"sim\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 37\n    }\n  }, \"Sim\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"nao\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 37\n    }\n  }, \"N\\xE3o\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: \"remoto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(Input, {\n    name: \"horario\",\n    label: \"Hor\\xE1rio\",\n    className: \"input1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"style-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"tags\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 29\n    }\n  }, \"Tags\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 63\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    className: \"basic-single\",\n    classNamePrefix: \"select\",\n    name: \"tags\",\n    isMulti: true,\n    options: optionsBanco,\n    id: \"tags\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: \"tags\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div-Enviar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alerta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FiAlertCircle, {\n    className: \"alertaCirculo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 33\n    }\n  }, \"Preencha todos os campos\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"buttonEnviar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 29\n    }\n  }, \"Cadastrar\"))))));\n}\n\nexport default CadastrarVagas;","map":{"version":3,"sources":["C:/Users/Lucas/Desktop/Ultimo Semestre/Conectando/Sprint-3/conectando/src/pages/CadastrarVagas/index.tsx"],"names":["React","useEffect","FiArrowLeft","FiAlertCircle","Formik","Field","Form","ErrorMessage","Yup","Select","Input","Axios","CadastrarVagas","api","create","baseURL","headers","authorization","localStorage","getItem","BuscarTags","optionsBanco","Montar","e","forEach","element","push","value","idTags","label","nome","CadastrarTagVaga","idVaga","tagsPorName","document","getElementsByName","index","length","tagsVaga","attributes","post","JSON","stringify","get","then","dados","data","catch","erro","console","error","values","area","requisitos","detalhes","beneficios","salario","tipoContrato","nivelExp","prazo","limiteAlunos","remoto","horario","idEmpresa","object","string","required","max","number","date","notRequired","setSubmitting","token","parse","window","atob","split","jti","id","setTimeout"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { FiArrowLeft, FiAlertCircle } from 'react-icons/fi';\r\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport Select, { OptionsType } from 'react-select';\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport Input from '../../components/inputs/index';\r\n\r\nimport './style.css';\r\nimport { FaTags } from 'react-icons/fa';\r\nimport { valueScaleCorrection } from 'framer-motion/types/render/dom/layout/scale-correction';\r\nimport Axios from 'axios';\r\n\r\nfunction CadastrarVagas() {\r\n\r\n    const api = Axios.create({\r\n        baseURL: \"http://localhost:5000/api\",\r\n        headers: {\r\n            'content-type': 'application/json',\r\n            authorization: 'Bearer ' + localStorage.getItem(\"token-conectando\")\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        BuscarTags();\r\n    }, [])\r\n\r\n    var optionsBanco: { value: any; label: any; }[] = []\r\n\r\n\r\n    //Formata um array para ser usado pelo react-select\r\n    const Montar = (e: any) => {\r\n        e.forEach((element: { idTags: any; nome: any; }) => {\r\n            optionsBanco.push({ value: element.idTags, label: element.nome });\r\n        });\r\n    }\r\n\r\n    //Cadastrar TagVaga\r\n    const CadastrarTagVaga = (idVaga: any) => {\r\n        let tagsPorName = document.getElementsByName('tags');\r\n        for (let index = 0; index < tagsPorName.length; index++) {\r\n\r\n            const tagsVaga = { idVaga: idVaga, idTags: tagsPorName[index].attributes[2].value }\r\n\r\n            api.post(\"/TagsVaga\", JSON.stringify(tagsVaga))\r\n\r\n        }\r\n    }\r\n\r\n\r\n    //Busca todas as tags\r\n    const BuscarTags = () => {\r\n\r\n        api.get(\"/Tags\")\r\n            .then(dados => {\r\n                Montar(dados.data)\r\n            })\r\n            .catch(erro => console.error(erro));\r\n    }\r\n\r\n\r\n    //Cadastra as Vagas\r\n    const CadastrarVagas = (values: any) => {\r\n\r\n        api.post(\"/Vaga\", JSON.stringify(values, null, 2))\r\n            .then(dados => {\r\n                CadastrarTagVaga(dados.data)\r\n            })\r\n            .catch(erro => console.error(erro));\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"cadastroVagas\">\r\n            <div className=\"headerCadastro\">\r\n                <FiArrowLeft className=\"iconVoltar\" />\r\n\r\n                <div className=\"textHeaderCadastro\">\r\n                    <h1>Cadaste sua Vaga!</h1>\r\n                    <p>O primeiro passo é preencher esse formulário de cadastro.</p>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"formularioCadastro\">\r\n                <h2>Seus dados</h2>\r\n\r\n                <div className=\"divisao\"></div>\r\n\r\n                <Formik\r\n                    initialValues={\r\n                        {\r\n                            nome: '',\r\n                            area: '',\r\n                            requisitos: '',\r\n                            detalhes: '',\r\n                            beneficios: '',\r\n                            salario: '',\r\n                            tipoContrato: '',\r\n                            nivelExp: '',\r\n                            prazo: '',\r\n                            limiteAlunos: '',\r\n                            remoto: '',\r\n                            horario: '',\r\n                            idEmpresa: ''\r\n                        }}\r\n                    validationSchema={Yup.object({\r\n                        nome: Yup.string().required('Required'),\r\n                        area: Yup.string().required('Required'),\r\n                        requisitos: Yup.string().required('Required').max(255, 'Deve ter no máximo 255 caractéres'),\r\n                        detalhes: Yup.string().required('Required').max(255, 'Deve ter no máximo 255 caractéres'),\r\n                        beneficios: Yup.string().required('Required'),\r\n                        salario: Yup.number().required('Required'),\r\n                        tipoContrato: Yup.string().required('Required'),\r\n                        nivelExp: Yup.string().required('Required'),\r\n                        prazo: Yup.date().required('Required'),\r\n                        limiteAlunos: Yup.number().notRequired(),\r\n                        remoto: Yup.string().required('Required'),\r\n                        horario: Yup.string().required('Required'),\r\n                        idEmpresa: Yup.number()\r\n\r\n                    })}\r\n                    onSubmit={(values, { setSubmitting }) => {\r\n                        const token = localStorage.getItem('token-conectando');\r\n                        if (token !== null) {\r\n                            values.idEmpresa = JSON.parse(window.atob(token.split('.')[1])).jti\r\n                        }\r\n                        const id = CadastrarVagas(values);\r\n                        setTimeout(() => {\r\n                            setSubmitting(false);\r\n                        }, 400);\r\n                    }}\r\n                >\r\n                    <Form>\r\n                        <Input name=\"nome\" label=\"Nome da Vaga\" className=\"input1\" />\r\n\r\n                        <Input name=\"area\" label=\"Área da Vaga\" className=\"input1\" />\r\n\r\n                        <Input label=\"Requisitos\" as=\"textarea\" name=\"requisitos\" id=\"requisitos\" className=\"input1 caixa-detalhada\" />\r\n\r\n                        <Input label=\"Detalhes Vaga\" as=\"textarea\" name=\"detalhes\" id=\"detalhes\" className=\"input1 caixa-detalhada\" />\r\n\r\n                        <Input name=\"beneficios\" label=\"Beneficios\" className=\"input1\" />\r\n\r\n                        <Input type=\"number\" min=\"0\" name=\"salario\" label=\"Salário\" className=\"input1\" />\r\n\r\n                        <div className=\"form-divs\">\r\n                            <Input name=\"tipoContrato\" label=\"Tipo de Contrato\" className=\"input1\" />\r\n                            <Input name=\"nivelExp\" label=\"Nível da Vaga\" className=\"input1\" />\r\n                        </div>\r\n\r\n                        <div className=\"form-divs\">\r\n                            <Input name=\"prazo\" type=\"date\" label=\"Prazo inscrições\" className=\"input1\" />\r\n                            <Input type=\"number\" min=\"0\" name=\"limiteAlunos\" label=\"Limite inscrições\" className=\"input1\" />\r\n                        </div>\r\n\r\n                        <div className=\"form-divs\">\r\n                            <div className=\"style-input\">\r\n                                <label htmlFor=\"remoto\">Trabalhar remoto?</label><br />\r\n                                <Field as=\"select\" name=\"remoto\" id=\"remoto\" className=\"input1 input1-select\">\r\n                                    <option value=\"\">Selecione uma opção</option>\r\n                                    <option value=\"sim\">Sim</option>\r\n                                    <option value=\"nao\">Não</option>\r\n                                </Field>\r\n                                <div className=\"error-message\">\r\n                                    <ErrorMessage name=\"remoto\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <Input name=\"horario\" label=\"Horário\" className=\"input1\" />\r\n                        </div>\r\n\r\n                        <div className=\"style-input\">\r\n                            <label htmlFor=\"tags\">Tags</label><br />\r\n                            <Select\r\n                                className=\"basic-single\"\r\n                                classNamePrefix=\"select\"\r\n                                name=\"tags\"\r\n                                isMulti\r\n                                options={optionsBanco}\r\n                                id=\"tags\"\r\n                            />\r\n                            <div className=\"error-message\">\r\n                                <ErrorMessage name=\"tags\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"div-Enviar\">\r\n                            <div className=\"alerta\">\r\n                                <FiAlertCircle className=\"alertaCirculo\" />\r\n                                <p>Preencha todos os campos</p>\r\n                            </div>\r\n\r\n                            <button type='submit' className=\"buttonEnviar\">Cadastrar</button>\r\n                        </div>\r\n                    </Form>\r\n                </Formik>\r\n\r\n\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CadastrarVagas;"]},"metadata":{},"sourceType":"module"}