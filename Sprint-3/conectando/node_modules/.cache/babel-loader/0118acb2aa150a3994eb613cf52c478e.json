{"ast":null,"code":"var _jsxFileName = \"C:\\\\Senai\\\\Conectando\\\\Sprint-3\\\\conectando\\\\src\\\\pages\\\\Felipe\\\\VagasInscrito\\\\index.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport HeaderAluno from '../../../components/headerAluno/index';\nimport Footer from '../../../components/footer/index';\nimport { motion } from 'framer-motion';\nimport jwt_decode from 'jwt-decode';\nimport './style.css';\nimport { Link, useHistory } from 'react-router-dom';\nimport ModeloVaga from '../../../components/ModeloVaga';\nimport api from '../../../services/api';\n\nfunction VagasInscrito() {\n  const history = useHistory();\n  const auth = `Bearer ${localStorage.getItem('conectando-key-auth')}`;\n  var id; //#region Page Transition\n\n  const pageTransition = {\n    duration: 1\n  };\n  const pageVariante = {\n    in: {\n      opacity: 1,\n      x: 0\n    },\n    out: {\n      opacity: 0,\n      x: \"-180vw\"\n    }\n  }; //#endregion\n\n  const [vagas, setVagas] = useState([]);\n  useEffect(() => {\n    handleLoadVagas();\n  }, []);\n\n  function handleDecode() {\n    try {\n      const authDec = jwt_decode(auth);\n      id = authDec.jti;\n      return id;\n    } catch (error) {\n      return \"Erro no decode\";\n    }\n  }\n\n  async function handleLoadVagas() {\n    await api.get('/vaga', {\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json',\n        authorization: auth\n      },\n      timeout: 10000\n    }).then(response => {\n      console.log(response.data);\n      setVagas(response.data);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(HeaderAluno, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"menulista\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"cool-link\",\n    to: \"/vagasAluno\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, \"Vagas dispon\\xEDveis\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 100\n    }\n  }), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"cool-link\",\n    to: \"/vagasInscrito\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"Minhas inscri\\xE7\\xF5es\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 103\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(motion.div, {\n    className: \"totalVagas\",\n    exit: \"out\",\n    animate: \"in\",\n    initial: \"out\",\n    variants: pageVariante,\n    transition: pageTransition,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, vagas.map(modelo => {\n    console.log(handleDecode());\n    modelo.inscricao.forEach(inscric => {\n      console.log(inscric.idAluno);\n\n      if (parseInt(handleDecode()) === parseInt(inscric.idAluno)) {\n        return /*#__PURE__*/React.createElement(ModeloVaga, {\n          key: modelo.idVaga,\n          modelo: modelo,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 36\n          }\n        });\n      } else {\n        return null;\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default VagasInscrito;","map":{"version":3,"sources":["C:/Senai/Conectando/Sprint-3/conectando/src/pages/Felipe/VagasInscrito/index.tsx"],"names":["React","useEffect","useState","HeaderAluno","Footer","motion","jwt_decode","Link","useHistory","ModeloVaga","api","VagasInscrito","history","auth","localStorage","getItem","id","pageTransition","duration","pageVariante","in","opacity","x","out","vagas","setVagas","handleLoadVagas","handleDecode","authDec","jti","error","get","headers","authorization","timeout","then","response","console","log","data","map","modelo","inscricao","forEach","inscric","idAluno","parseInt","idVaga"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport HeaderAluno from '../../../components/headerAluno/index';\r\nimport Footer from '../../../components/footer/index';\r\nimport { motion } from 'framer-motion';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\n\r\nimport './style.css';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport ModeloVaga, { VagaModel } from '../../../components/ModeloVaga';\r\nimport api from '../../../services/api';\r\n\r\n\r\n\r\nfunction VagasInscrito(){\r\n    const history = useHistory();\r\n\r\n    const auth = `Bearer ${localStorage.getItem('conectando-key-auth')}`;\r\n    var id;\r\n\r\n    //#region Page Transition\r\n    const pageTransition = {\r\n        duration: 1\r\n    }\r\n    \r\n    const pageVariante = {\r\n        in: {\r\n            opacity: 1,\r\n            x: 0\r\n        },\r\n        out:{\r\n            opacity: 0,\r\n            x: \"-180vw\"\r\n        }\r\n    }\r\n    //#endregion\r\n    \r\n    const [vagas, setVagas] = useState([]);\r\n\r\n    useEffect(() => {\r\n        handleLoadVagas();\r\n    }, []);\r\n\r\n    function handleDecode (){\r\n        try {\r\n            const authDec:any = jwt_decode(auth);\r\n            id = authDec.jti;\r\n            return id;\r\n        } catch (error) {\r\n            return \"Erro no decode\"\r\n        }\r\n    }\r\n    \r\n    async function handleLoadVagas(){\r\n        await api.get('/vaga', {\r\n            headers: {\r\n                'Accept': 'application/json, text/plain, */*',\r\n                'Content-Type': 'application/json',\r\n                authorization: auth\r\n            },\r\n            timeout: 10000\r\n        }).then(response => {\r\n            console.log(response.data);\r\n            setVagas(response.data);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <HeaderAluno/>\r\n            <nav className=\"menulista\">\r\n                <ul className=\"menu\">\r\n                    <li><Link  className=\"cool-link\" to=\"/vagasAluno\">Vagas disponíveis</Link></li><br/>\r\n                    <li><Link  className=\"cool-link\" to=\"/vagasInscrito\">Minhas inscrições</Link></li><br/>\r\n                </ul>\r\n                    <div className=\"hr\">\r\n                        <hr/>\r\n                    </div>\r\n            </nav>\r\n            <motion.div className=\"totalVagas\" exit=\"out\" animate=\"in\" initial=\"out\"  variants={pageVariante} transition={pageTransition} >\r\n                {vagas.map((modelo: VagaModel) => {\r\n                    console.log(handleDecode());\r\n                    modelo.inscricao.forEach( (inscric:any) => {\r\n                        console.log(inscric.idAluno);\r\n                        if (parseInt(handleDecode()) ===  parseInt(inscric.idAluno)) {\r\n                            return <ModeloVaga key={modelo.idVaga} modelo={modelo}/>\r\n                        }\r\n                        else{\r\n                            return null;\r\n                        }\r\n                    });\r\n                })}\r\n            </motion.div>\r\n\r\n            <Footer/>\r\n        </div>\r\n    );\r\n\r\n\r\n    \r\n}\r\n\r\nexport default VagasInscrito;"]},"metadata":{},"sourceType":"module"}